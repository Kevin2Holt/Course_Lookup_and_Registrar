<script>
	function open_loginPop() {
		document.getElementById("loginPop").style.visibility = "visible";
		document.getElementById("loginPop").style.opacity = "1";
	}

	function close_loginPop() {
		document.getElementById("loginPop").style.visibility = "hidden";
		document.getElementById("loginPop").style.opacity = "0";
	}
</script>

<div class="popup_container" id="loginPop">
	<form action="/auth/login" method="POST" class="form-container" id="loginForm">

		<h1>Login</h1>

		<div class="popup_section">
			<label for="email"><b>Email</b></label>
			<input
				type="text"
				placeholder="Email"
				name="email"
				class="popup_input"
				required>
		</div>

		<div class="popup_section">
			<label for="password"><b>Password</b></label>
			<input
				type="password"
				placeholder="Password"
				name="password"
				class="popup_input"
				required>
		</div>

		<button type="submit" class="btn">Login</button>
		<button type="button" class="btn cancel" onclick="close_loginPop()">Cancel</button>

	</form>

	<!-- <script>
		const loginForm = document.querySelector("#loginForm");
		// const emailError = document.querySelector(".email.error");
		// const passwordError = document.querySelector(".password.error");
		console.log(loginForm);

		loginForm.addEventListener("submit", async (e) => {
			e.preventDefault();

			// Reset Errors
			// emailError.textContent = "";
			// passwordError.textContent = "";

			// Get the values
			const email = loginForm.email.value;
			const password = loginForm.password.value;

			try {
				const res = await fetch("/auth/login", {
					method: "POST",
					body: JSON.stringify({email, password}),
					headers: {"Content-Type": "application/json"}
				});
				const data = await res.json();
				if(data.errors) {
					// emailError.textContent = data.errors.email;
					// passwordError.textContent = data.errors.password;
				}
				if(data.user) {
					location.assign("/");
				}
			}
			catch (err) {
				console.log(err);
			}
		});
	</script> -->

</div>